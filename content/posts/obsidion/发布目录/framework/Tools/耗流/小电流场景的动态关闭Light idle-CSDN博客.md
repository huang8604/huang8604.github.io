---
title: 小电流场景的动态关闭Light idle-CSDN博客
source: https://blog.csdn.net/su749520/article/details/144226414?spm=1001.2014.3001.5502
author: 
published: 
created: 2024-12-06
description: 
tags:
  - clippings
  - blog
date: 2024-12-06T07:17:22.949Z
lastmod: 2024-12-06T07:17:56.627Z
---
### 1. Doze 省电功能的介绍

| 级别     | IDLE程度             | 进入条件                  | 对App的行为限制                                                   | 退出条件                     | 设备硬件要求                                                            |
| ------ | ------------------ | --------------------- | ----------------------------------------------------------- | ------------------------ | ----------------------------------------------------------------- |
| 第一级别限制 | 浅度IDLE(Light IDLE) | 设备不充电，屏幕关闭            | 1不能访问网络；2推迟作业和同步                                            | 激活屏幕，设备充电                | 无                                                                 |
| 第二级别限制 | 深度IDLE(Deep IDLE)  | 设备不充电，屏幕关闭,设备保持静止一段时间 | 1 不能访问网络；2 wake lock失效；3 禁止GPS/WIFI 扫描；4 Alarms推迟5 作业，同步推迟。 | 激活屏幕，设备充电，有移动动作，Alarm 到时 | 要求具有SMD（Significant motion Dector），一种用于检测设备是否处于静止状态传感器，或者自行模拟实现算法 |

### 2. Lighte 的省电特性和建议

实际功耗测试中，我们发现

1. light idle 在小电流场景，由于有alram时序的影响，实际测试中，相当于耗电能手，例如飞行模式下，没有light idle 机制时，待机电流为 2mA,如果测试20分钟内，电流会为2.17~2.5mA左右
2. light idle 在大电流场景，相当于省电能手，有效管控后台联网和job

故建议：飞行模式、无联网的灭屏待机下，可以暂时关闭[light](https://so.csdn.net/so/search?q=light\&spm=1001.2101.3001.7020) idle，因为5分钟一次的alarm 时序检测，唤醒cpu带来的小电流增加，会影响小电流场景的通过标准
